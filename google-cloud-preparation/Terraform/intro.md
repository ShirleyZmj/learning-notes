### **Terraform ç®€ä»‹**  
Terraform æ˜¯ HashiCorp å¼€å‘çš„ **åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰** å·¥å…·ï¼Œå®ƒå…è®¸ç”¨æˆ·ä½¿ç”¨ä»£ç æ¥å®šä¹‰ã€éƒ¨ç½²å’Œç®¡ç†äº‘èµ„æºã€‚Terraform é€šè¿‡ **å£°æ˜å¼** è¯­è¨€ï¼ˆHCLï¼ŒHashiCorp Configuration Languageï¼‰æ¥æè¿°åŸºç¡€è®¾æ–½ï¼Œæ”¯æŒ **å¤šç§äº‘æœåŠ¡æä¾›å•†**ï¼ˆå¦‚ AWSã€GCPã€Azureï¼‰ä»¥åŠ **æœ¬åœ°åŸºç¡€è®¾æ–½**ã€‚

---

## **Terraform æ ¸å¿ƒæ¦‚å¿µ**
| **æ¦‚å¿µ** | **è§£é‡Š** |
|----------|---------|
| **Providersï¼ˆæä¾›è€…ï¼‰** | Terraform é€šè¿‡ Providers è¿æ¥ä¸åŒçš„äº‘å¹³å°æˆ–æœåŠ¡ï¼Œå¦‚ `google`, `aws`, `azurerm` |
| **Resourcesï¼ˆèµ„æºï¼‰** | äº‘ä¸Šçš„åŸºç¡€è®¾æ–½ç»„ä»¶ï¼Œå¦‚è™šæ‹Ÿæœºï¼ˆVMï¼‰ã€VPCã€æ•°æ®åº“ç­‰ |
| **Variablesï¼ˆå˜é‡ï¼‰** | Terraform ä»£ç ä¸­çš„è¾“å…¥å‚æ•°ï¼Œå¢å¼ºå¯å¤ç”¨æ€§ |
| **Stateï¼ˆçŠ¶æ€ï¼‰** | è®°å½• Terraform ç®¡ç†çš„åŸºç¡€è®¾æ–½å½“å‰çŠ¶æ€ï¼Œå­˜å‚¨åœ¨ `terraform.tfstate` |
| **Modulesï¼ˆæ¨¡å—ï¼‰** | å¯å¤ç”¨çš„ Terraform ä»£ç å—ï¼Œä¾¿äºç»„ç»‡å’Œç®¡ç†å¤§å‹åŸºç¡€è®¾æ–½ |
| **Terraform Plan** | é¢„è§ˆæ‰§è¡Œè®¡åˆ’ï¼Œæ£€æŸ¥æ›´æ”¹å‰çš„å½±å“ |
| **Terraform Apply** | æ‰§è¡Œå˜æ›´ï¼Œåº”ç”¨ Terraform é…ç½® |
| **Terraform Destroy** | åˆ é™¤ Terraform ç®¡ç†çš„èµ„æº |

---

## **Terraform ä¸»è¦å·¥ä½œæµç¨‹**
1. **ç¼–å†™ Terraform é…ç½®æ–‡ä»¶**ï¼ˆ`.tf` æ–‡ä»¶ï¼‰
2. **åˆå§‹åŒ– Terraform** (`terraform init`)ï¼Œä¸‹è½½ Providers
3. **é¢„è§ˆæ›´æ”¹** (`terraform plan`)ï¼ŒæŸ¥çœ‹å³å°†æ‰§è¡Œçš„æ“ä½œ
4. **åº”ç”¨é…ç½®** (`terraform apply`)ï¼Œåˆ›å»ºæˆ–ä¿®æ”¹èµ„æº
5. **ç®¡ç†åŸºç¡€è®¾æ–½å˜æ›´**ï¼ˆä¿®æ”¹ `.tf` æ–‡ä»¶å¹¶é‡æ–°æ‰§è¡Œ `terraform apply`ï¼‰
6. **é”€æ¯èµ„æº** (`terraform destroy`)ï¼Œåˆ é™¤æ‰€æœ‰èµ„æº

---

## **Terraform ç¤ºä¾‹ï¼šåˆ›å»º GCP VM**
**æ–‡ä»¶ï¼š`main.tf`**
```hcl
provider "google" {
  project = "your-project-id"
  region  = "us-central1"
}

resource "google_compute_instance" "vm_instance" {
  name         = "terraform-vm"
  machine_type = "e2-medium"
  zone         = "us-central1-a"

  boot_disk {
    initialize_params {
      image = "debian-cloud/debian-11"
    }
  }

  network_interface {
    network = "default"
    access_config {}  # ä¸º VM èµ‹äºˆå¤–éƒ¨ IP
  }
}
```
**æ‰§è¡Œ Terraform å‘½ä»¤ï¼š**
```sh
terraform init       # åˆå§‹åŒ– Terraform
terraform plan       # é¢„è§ˆæ‰§è¡Œè®¡åˆ’
terraform apply      # åˆ›å»º GCP è™šæ‹Ÿæœº
terraform destroy    # åˆ é™¤æ‰€æœ‰èµ„æº
```

---

## **Terraform ä¼˜åŠ¿**
âœ… **è·¨äº‘æ”¯æŒ**ï¼šAWSã€GCPã€Azure ç­‰å¤šäº‘ç®¡ç†  
âœ… **å¯é‡å¤æ€§**ï¼šåŸºç¡€è®¾æ–½ä»£ç åŒ–ï¼Œé¿å…æ‰‹åŠ¨åˆ›å»ºé”™è¯¯  
âœ… **è‡ªåŠ¨åŒ–ç®¡ç†**ï¼šå®šä¹‰ã€ä¿®æ”¹ã€é”€æ¯åŸºç¡€è®¾æ–½ä¸€ä½“åŒ–  
âœ… **å¯å®¡è®¡æ€§**ï¼šæ‰€æœ‰å˜æ›´å¯è¿½è¸ªï¼Œæå‡å›¢é˜Ÿåä½œèƒ½åŠ›  

Terraform æ˜¯äº‘ç«¯ **è‡ªåŠ¨åŒ–è¿ç»´** å’Œ **åŸºç¡€è®¾æ–½ç®¡ç†** çš„é‡è¦å·¥å…·ï¼Œé€‚ç”¨äº DevOpsã€äº‘æ¶æ„ã€CI/CD ä»¥åŠå¤§è§„æ¨¡èµ„æºç®¡ç†ã€‚ ğŸš€

### **Terraform åœ¨ Google Cloud ä¸Šçš„åº”ç”¨**  

#### **Terraform ç®€ä»‹**  
Terraform æ˜¯ä¸€ä¸ª **å¼€æºçš„åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰å·¥å…·**ï¼Œç”¨äºä»¥å£°æ˜å¼æ–¹å¼ç®¡ç†èµ„æºã€‚ä½ å¯ä»¥åœ¨ Terraform é…ç½®æ–‡ä»¶ä¸­æè¿°ä½ æƒ³è¦éƒ¨ç½²çš„èµ„æºï¼Œç„¶å Terraform è´Ÿè´£è‡ªåŠ¨æ‰§è¡Œéƒ¨ç½²ã€‚  

#### **Terraform çš„ä¼˜åŠ¿**  
âœ… **åŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ–**ï¼šæ— éœ€æ‰‹åŠ¨é…ç½®äº‘èµ„æºï¼Œå‡å°‘é”™è¯¯  
âœ… **å¯è¿½è¸ªå˜æ›´**ï¼šTerraform é…ç½®æ–‡ä»¶å¯å­˜å‚¨åœ¨ Git è¿›è¡Œç‰ˆæœ¬ç®¡ç†  
âœ… **å¤šäº‘æ”¯æŒ**ï¼šå¯åŒæ—¶ç®¡ç† GCPã€AWSã€Azure èµ„æº  
âœ… **å¯å›æ»š**ï¼šTerraform State è®°å½•å½“å‰åŸºç¡€è®¾æ–½çŠ¶æ€ï¼Œæ”¯æŒå›æ»š  

---

## **Terraform åœ¨ Google Cloud ä¸­çš„å®è·µ**
åœ¨ Google Cloud (GCP) ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ Terraform æ¥ç®¡ç†äº‘åŸºç¡€è®¾æ–½ã€‚å¸¸è§çš„åšæ³•æ˜¯å°† Terraform é…ç½®æ–‡ä»¶å­˜å‚¨åœ¨ **Cloud Storage** å­˜å‚¨æ¡¶ä¸­ï¼Œå¹¶ä½¿ç”¨ **Cloud Build** è¿è¡Œ Terraform å‘½ä»¤ã€‚

### **Terraform ç›¸å…³æ–‡ä»¶**
| **æ–‡ä»¶å** | **ä½œç”¨** |
|------------|----------|
| `cloudbuild.yaml` | Cloud Build æ„å»ºé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰ Terraform è¿è¡Œæ­¥éª¤ |
| `backend.tf` | è¿œç¨‹ Terraform çŠ¶æ€å­˜å‚¨é…ç½®ï¼Œé€šå¸¸å­˜æ”¾åœ¨ Cloud Storage |
| `terraform.tfstate` | æœ¬åœ°å­˜å‚¨ Terraform çŠ¶æ€çš„æ–‡ä»¶ï¼Œè®°å½•å½“å‰éƒ¨ç½²çŠ¶æ€ |
| `main.tf` | Terraform é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰ GCP èµ„æº |

---

### **Cloud Build æ‰§è¡Œçš„ Terraform å‘½ä»¤**
| **å‘½ä»¤** | **ä½œç”¨** |
|-----------|----------|
| `terraform init` | åˆå§‹åŒ– Terraformï¼Œä¸‹è½½ GCP æä¾›å•†æ’ä»¶ |
| `terraform plan` | è¯­æ³•æ£€æŸ¥ï¼Œé¢„è§ˆå°†è¦åˆ›å»ºçš„èµ„æº |
| `terraform apply` | æ‰§è¡Œ Terraform è®¡åˆ’ï¼Œåˆ›å»º GCP èµ„æº |
| `terraform destroy` | é”€æ¯ Terraform ç®¡ç†çš„æ‰€æœ‰èµ„æº |

Terraform + Cloud Build çš„ç»„åˆ **è‡ªåŠ¨åŒ–äº†åŸºç¡€è®¾æ–½çš„éƒ¨ç½²å’Œç®¡ç†**ï¼Œå¯ä»¥å¸®åŠ© DevOps å›¢é˜Ÿ **æé«˜æ•ˆç‡ï¼Œå‡å°‘äººä¸ºé”™è¯¯ï¼Œå®ç°äº‘èµ„æºçš„å¯è¿½è¸ªæ€§å’Œè‡ªåŠ¨åŒ–** ğŸš€