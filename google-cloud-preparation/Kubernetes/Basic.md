![[Pasted image 20250326183950.png]]
### **Kubernetes åŸºæœ¬æ¦‚å¿µè§£é‡Š**

#### **1ï¸âƒ£ ä»€ä¹ˆæ˜¯ Podï¼Ÿ**

Pod æ˜¯ **Kubernetes ä¸­æœ€å°çš„å¯éƒ¨ç½²å•å…ƒ**ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å®ä¾‹ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª **Docker å®¹å™¨**ã€‚

- **Pod çš„ä½œç”¨ï¼š**
    - ä¸ºå®¹å™¨æä¾› **ç½‘ç»œ** å’Œ **å­˜å‚¨**ã€‚
    - å…è®¸å¤šä¸ªå®¹å™¨ **å…±äº«å­˜å‚¨å·** å’Œ **ç½‘ç»œ**ã€‚
    - è¿è¡Œæ—¶ç¯å¢ƒåŒ…å«å®¹å™¨çš„æ‰€æœ‰ **ä¾èµ–é¡¹**ï¼Œç¡®ä¿å®¹å™¨èƒ½å¤Ÿæ­£å¸¸è¿è¡Œå¹¶é€šä¿¡ã€‚

ğŸ“Œ **Pod ç¤ºä¾‹**ï¼š

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: my-pod
spec:
  containers:
    - name: my-container
      image: nginx
      ports:
        - containerPort: 80
```

---

#### **2ï¸âƒ£ ä»€ä¹ˆæ˜¯ Deploymentï¼Ÿ**

Deploymentï¼ˆéƒ¨ç½²ï¼‰ç”¨äº **ç®¡ç†å¤šä¸ªç›¸åŒçš„ Pod**ï¼Œå¹¶é€šè¿‡ **ReplicaSet** å®šä¹‰ **Pod å‰¯æœ¬çš„æ•°é‡**ã€‚

- **Deployment çš„ä½œç”¨ï¼š**
    - **è‡ªåŠ¨ç›‘æ§ Pods**ï¼Œå¦‚æœæŸä¸ª Pod å´©æºƒï¼Œä¼šè‡ªåŠ¨ **æ›¿æ¢** ä»¥ä¿æŒåº”ç”¨é«˜å¯ç”¨ã€‚
    - å…è®¸ **æ»šåŠ¨æ›´æ–°ï¼ˆRolling Updateï¼‰**ï¼Œå³é€æ­¥æ›¿æ¢æ—§ Podï¼Œç¡®ä¿æ— ä¸­æ–­å‡çº§ã€‚
    - **ä½¿ç”¨ Pod æ¨¡æ¿ï¼ˆPod Templateï¼‰** å®šä¹‰ Pod è§„èŒƒã€‚

ğŸ“Œ **Deployment ç¤ºä¾‹**ï¼ˆå®šä¹‰ 3 ä¸ª `nginx` å‰¯æœ¬ï¼‰ï¼š

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-deployment
spec:
  replicas: 3  # è¿è¡Œ 3 ä¸ª Pod å‰¯æœ¬
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
        - name: my-container
          image: nginx
          ports:
            - containerPort: 80
```

---

#### **3ï¸âƒ£ ä»€ä¹ˆæ˜¯ Serviceï¼Ÿ**

Serviceï¼ˆæœåŠ¡ï¼‰æ˜¯ **ä¸€ç»„ Pod çš„ç½‘ç»œè®¿é—®ç«¯ç‚¹**ï¼Œç”¨äºæä¾›**ç¨³å®šçš„ IP åœ°å€**ï¼Œç¡®ä¿å¤–éƒ¨æˆ–é›†ç¾¤å†…çš„ç»„ä»¶èƒ½å¤Ÿè®¿é—® Podsã€‚

- **Service çš„ä½œç”¨ï¼š**
    - **è´Ÿè½½å‡è¡¡ï¼ˆLoad Balancingï¼‰**ï¼Œåœ¨å¤šä¸ª Pod ä¹‹é—´åˆ†é…æµé‡ã€‚
    - **æä¾›å›ºå®š IP åœ°å€**ï¼ŒPod çš„å†…éƒ¨ IP å¯èƒ½ä¼šå˜åŒ–ï¼Œä½† Service çš„ IP **ä¸ä¼šå˜**ã€‚
    - **é€šè¿‡ Selector é€‰æ‹© Pod**ï¼Œè‡ªåŠ¨ç®¡ç† Pod è®¿é—®ã€‚

ğŸ“Œ **Service ç¤ºä¾‹**ï¼ˆæš´éœ² `my-app` Podsï¼‰ï¼š

```yaml
apiVersion: v1
kind: Service
metadata:
  name: my-service
spec:
  selector:
    app: my-app
  ports:
    - protocol: TCP
      port: 80   # Service ç«¯å£
      targetPort: 80  # ç›®æ ‡ Pod çš„ç«¯å£
  type: ClusterIP  # é»˜è®¤ç±»å‹ï¼Œä»…é›†ç¾¤å†…éƒ¨è®¿é—®
```

---

### **æ€»ç»“**

|**æ¦‚å¿µ**|**ä½œç”¨**|
|---|---|
|**Pod**|**æœ€å°çš„éƒ¨ç½²å•å…ƒ**ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ã€‚|
|**Deployment**|**ç®¡ç†å¤šä¸ª Podï¼Œæä¾›è‡ªåŠ¨ä¼¸ç¼©å’Œæ»šåŠ¨æ›´æ–°**ã€‚|
|**Service**|**æš´éœ² Podsï¼Œæä¾›ç¨³å®šè®¿é—®å’Œè´Ÿè½½å‡è¡¡**ã€‚|

å¦‚æœä½ è¦ **éƒ¨ç½²ä¸€ä¸ªåº”ç”¨**ï¼Œä¸€èˆ¬ä¼šï¼š  
1ï¸âƒ£ **ä½¿ç”¨ Deployment** æ¥ç®¡ç†å¤šä¸ª Podã€‚  
2ï¸âƒ£ **ä½¿ç”¨ Service** æ¥æä¾›è®¿é—®å…¥å£ï¼Œå¹¶è¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚

ğŸ’¡ **ç¤ºä¾‹æ¶æ„**ï¼š

```
ç”¨æˆ·è¯·æ±‚ â†’ Serviceï¼ˆè´Ÿè½½å‡è¡¡ï¼‰â†’ Deploymentï¼ˆç®¡ç†å¤šä¸ª Podï¼‰â†’ Podï¼ˆè¿è¡Œå®¹å™¨ï¼‰
```

ğŸ”¥ Kubernetes è®©ä½ çš„åº”ç”¨ **é«˜å¯ç”¨**ã€**æ˜“æ‰©å±•**ï¼Œé€‚ç”¨äºäº‘ç«¯å¾®æœåŠ¡æ¶æ„ï¼ğŸš€