# AWS EC2 实例购买选项总结

本讲座介绍了不同的 Amazon EC2 实例购买选项，以帮助您根据不同的工作负载优化成本和性能。

## 1. 按需实例 (On-Demand Instances)

- **特点:**
    - 按需运行，无需长期承诺。
    - 适用于短期、不可预测的工作负载。
    - 价格最高，但灵活性最高。
    - Linux/Windows 系统按秒计费（首分钟后），其他系统按小时计费。
- **适用场景:**
    - 短期项目或测试环境。
    - 无法预测使用时长的应用。
    - 需要快速启动且无需长期运行的场景。

## 2. 预留实例 (Reserved Instances)

- **特点:**
    - 承诺使用 1 年或 3 年。
    - 适用于长期稳定运行的工作负载，如数据库。
    - 提供显著折扣（高达 72%），折扣力度取决于预付方式和期限。
    - 需要预先选择实例属性（实例类型、区域、租户、操作系统）。
    - 可以购买或在市场上出售不再需要的预留实例。
- **类型:**
    - **标准预留实例:** 提供最高的折扣，但灵活性较低。
    - **可转换预留实例:** 允许更改实例类型、系列、操作系统、范围和租户，但折扣较低（高达 66%）。
- **适用场景:**
    - 长期运行且实例属性可预测的应用。
    - 需要稳定、可预测成本的场景。

## 3. 节省计划 (Savings Plans)

- **特点:**
    - 承诺在 1 年或 3 年内每小时的价格。
    - 提供与预留实例相似的折扣（高达 70%）。
    - 更灵活，可跨实例大小、操作系统（Linux/Windows 等）和租户（主机、专用、默认）进行切换。
    - 锁定特定的实例系列和区域。
- **适用场景:**
    - 长期运行，但实例规格可能变化的场景。
    - 需要在特定实例系列和区域内灵活调整实例大小和操作系统的应用。

## 4. 竞价实例 (Spot Instances)

- **特点:**
    - 提供最高的折扣（与按需相比高达 90%）。
    - 价格随市场波动，当竞价高于市场价格时，实例可能随时被中断。
    - 适用于对故障具有弹性的短期工作负载。
- **适用场景:**
    - 批处理作业、数据分析、图像处理等可中断的任务。
    - 具有灵活启动和结束时间的工作负载。
    - 不适用于关键任务或数据库。

## 5. 专用主机 (Dedicated Hosts)

- **特点:**
    - 为您的 AWS 账户预留一整台物理服务器。
    - 可以完全控制实例的放置。
    - 适用于需要满足合规性要求或使用自带许可 (BYOL) 且按物理服务器指标计费的软件。
    - 最昂贵的选项，可以按需付费或预留 1 年或 3 年。
- **适用场景:**
    - 严格的合规性要求。
    - 需要使用绑定到物理服务器的软件许可证。

## 6. 专用实例 (Dedicated Instances)

- **特点:**
    - 在专用于您的硬件上运行实例，但可能与同一账户中的其他实例共享硬件。
    - 无法控制实例的放置。
    - 与专用主机不同，您无法直接访问物理服务器。
- **适用场景:**
    - 某些合规性要求。
    - 希望在物理上与其他 AWS 客户隔离实例。

## 7. 容量预留 (Capacity Reservations)

- **特点:**
    - 在特定可用区 (AZ) 中预留按需实例的容量，可指定任意时长。
    - 保证在需要时拥有所需的容量。
    - 没有时间承诺，可以随时预留或取消。
    - 不提供账单折扣，仍按按需价格收费。
    - 通常与区域预留实例或节省计划结合使用以获得折扣。
- **适用场景:**
    - 需要在特定可用区中保证容量的短期、不间断工作负载。

## 价格比较示例 (us-east-1, m4.large)

![[Pasted image 20250522180958.png]]

| 购买选项           | 价格/折扣        |
| ------------------ | ---------------- |
| 按需实例           | 约 0.10 美元/小时 |
| 竞价实例           | 高达 61% 折扣     |
| 预留实例 (1 年，无预付) | 较低的价格       |
| 预留实例 (3 年，全预付) | 最低的价格       |
| 节省计划           | 与预留实例折扣相似 |
| 可转换预留实例     | 较低的折扣       |
| 专用主机           | 按需价格         |
| 专用主机预留 (3 年) | 高达 70% 折扣     |
| 容量预留           | 按需价格         |

**注意:** 价格和折扣会随时间变化，请以 AWS 官方信息为准。

## 如何选择合适的购买选项

选择合适的 EC2 实例购买选项取决于您的具体工作负载需求，包括：

- **工作负载的持续时间:** 短期 vs. 长期。
- **工作负载的可预测性:** 稳定 vs. 不可预测。
- **对成本的敏感度:** 需要尽可能降低成本 vs. 对成本不敏感。
- **对弹性的要求:** 能够容忍中断 vs. 不能容忍中断。
- **合规性要求:** 是否需要物理隔离或特定的许可模式。
- **对容量的需求:** 是否需要保证在特定可用区拥有容量。

希望这份总结对您准备 AWS Certified Developer – Associate 考试有所帮助！祝您考试顺利！